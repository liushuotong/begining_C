#define _CRT_SECURE_NO_WARNINGS
#include<stdio.h>

int main(void)
{
	float distance1;
	float height1;
	float height2;
	float distance2;
	float distance3; 
	float height;
	float result_height1;
	float result_height2;
	float specific_value;
//引入所有变量
	printf("Please input distance1:");
	scanf("%f", &distance1);
	printf("Please input distance2:");
	scanf("%f", &distance3);
	printf("Please input your height1:");
	scanf("%f", &height1);
	printf("Please input your height2:");
	scanf("%f", &height2);
//输入数据并赋值
	distance2 = distance3 + distance1;
	height = height2 - height1;
	specific_value = distance2  / distance1;
	result_height1 = specific_value * height;
	result_height2 = result_height1 + height1;
//运算
	printf("The result is %f meters.",result_height2);
//显示结果
	return 0;
}

//此代码在最后一句初次写时出错！

/*正确*/
//printf("The result is %f meters.",result_height2);//显示结果
/*运行结果*/
		//Please input distance1:1
		//Please input distance2:1
		//Please input your height1:1
		//Please input your height2:2
		//The result is 3.000000 meters.
		//D:\其他\2023_code\test_8_11_1\x64\Debug\test_8_11_1.exe (进程 2384)已退出，代码为 0。
		//要在调试停止时自动关闭控制台，请启用“工具”->“选项”->“调试”->“调试停止时自动关闭控制台”。
		//按任意键关闭此窗口. . .

/*错误*/
//printf("The result is %f meters.",&result_height2);//显示结果
/*运行结果*/
		//Please input distance1:1
		//Please input distance2:1
		//Please input your height1:1	
		//Please input your height2:2
		//The result is 0.000000 meters.
		//D:\其他\2023_code\test_8_11_1\x64\Debug\test_8_11_1.exe (进程 2384)已退出，代码为 0。
		//要在调试停止时自动关闭控制台，请启用“工具”->“选项”->“调试”->“调试停止时自动关闭控制台”。
		//按任意键关闭此窗口. . .
//分析：
//&result_height2此时定义了一个新的变量“&result_height2”
//是结果出现为0.000000

//优化此代码的方法：
//减少引入新变量，例如specific_value可直接得到结果省略以降低内存占用

//课本标准代码：

// Program 2.18  Calculating the height of a tree 
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main(void)
{
  long shorty = 0L;                         // Shorty's height in inches
  long lofty = 0L;                          // Lofty's height in inches
  long feet = 0L;
  long inches = 0L;
  long shorty_to_lofty = 0L;                // Distance from Shorty to Lofty in inches
  long lofty_to_tree = 0L;                  // Distance from Lofty to the tree in inches
  long tree_height = 0L;                    // Height of the tree in inches
  const long inches_per_foot = 12L;
 
  // Get Lofty's height 
  printf("Enter Lofty's height to the top of his/her head, in whole feet: ");
  scanf("%ld", &feet);
  printf("                                          ... and then inches: ");
  scanf("%ld", &inches);
  lofty = feet*inches_per_foot + inches; 

  // Get Shorty's height up to his/her eyes 
  printf("Enter Shorty's height up to his/her eyes, in whole feet: ");
  scanf("%ld", &feet);
  printf("                                    ... and then inches: ");
  scanf("%ld", &inches);
  shorty = feet*inches_per_foot + inches;

  // Get the distance from Shorty to Lofty 
  printf("Enter the distance between Shorty and Lofty, in whole feet: ");
  scanf("%ld", &feet);
  printf("                                       ... and then inches: ");
  scanf("%ld", &inches);
  shorty_to_lofty = feet*inches_per_foot + inches;

  // Get the distance from Lofty to the tree 
  printf("Finally enter the distance from Lofty to the tree to the nearest foot: ");
  scanf("%ld", &feet);
  lofty_to_tree = feet*inches_per_foot;

  // Calculate the height of the tree in inches 
  tree_height = shorty + (shorty_to_lofty + lofty_to_tree)*(lofty-shorty)/
                                                                 shorty_to_lofty;

  // Display the result in feet and inches               
  printf("The height of the tree is %ld feet and %ld inches.\n",
                      tree_height/inches_per_foot, tree_height% inches_per_foot); 
  return 0;
}
//写注释是一个优秀程序员的标配！
